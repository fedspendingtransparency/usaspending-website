import React, { useState } from "react";
import Autocomplete from "../../src/js/components/sharedComponents/autocomplete/Autocomplete";

const dummyValues = [
    {
        title: "Alabama",
        category: "state",
        subtitle: "Abbreviation: AL"
    },
    {
        title: "Alaska",
        category: "state",
        subtitle: "Abbreviation: AK"
    },
    {
        title: "Arizona",
        category: "state",
        subtitle: "Abbreviation: AZ"
    },
    {
        title: "Arkansas",
        category: "state",
        subtitle: "Abbreviation: AR"
    },
    {
        title: "California",
        category: "state",
        subtitle: "Abbreviation: CA"
    },
    {
        title: "Colorado",
        category: "state",
        subtitle: "Abbreviation: CO"
    },
    {
        title: "Connecticut",
        category: "state",
        subtitle: "Abbreviation: CT"
    },
    {
        title: "Delaware",
        category: "state",
        subtitle: "Abbreviation: DE"
    },
    {
        title: "Florida",
        category: "state",
        subtitle: "Abbreviation: FL"
    },
    {
        title: "Georgia",
        category: "state",
        subtitle: "Abbreviation: GA"
    },
    {
        title: "Hawaii",
        category: "state",
        subtitle: "Abbreviation: HI"
    },
    {
        title: "Idaho",
        category: "state",
        subtitle: "Abbreviation: ID"
    },
    {
        title: "Illinois",
        category: "state",
        subtitle: "Abbreviation: IL"
    },
    {
        title: "Indiana",
        category: "state",
        subtitle: "Abbreviation: IN"
    },
    {
        title: "Iowa",
        category: "state",
        subtitle: "Abbreviation: IA"
    },
    {
        title: "Kansas",
        category: "state",
        subtitle: "Abbreviation: KS"
    },
    {
        title: "Kentucky",
        category: "state",
        subtitle: "Abbreviation: KY"
    },
    {
        title: "Louisiana",
        category: "state",
        subtitle: "Abbreviation: LA"
    },
    {
        title: "Maine",
        category: "state",
        subtitle: "Abbreviation: ME"
    },
    {
        title: "Maryland",
        category: "state",
        subtitle: "Abbreviation: MD"
    },
    {
        title: "Massachusetts",
        category: "state",
        subtitle: "Abbreviation: MA"
    },
    {
        title: "Michigan",
        category: "state",
        subtitle: "Abbreviation: MI"
    },
    {
        title: "Minnesota",
        category: "state",
        subtitle: "Abbreviation: MN"
    },
    {
        title: "Mississippi",
        category: "state",
        subtitle: "Abbreviation: MS"
    },
    {
        title: "Missouri",
        category: "state",
        subtitle: "Abbreviation: MO"
    },
    {
        title: "Montana",
        category: "state",
        subtitle: "Abbreviation: MT"
    },
    {
        title: "Nebraska",
        category: "state",
        subtitle: "Abbreviation: NE"
    },
    {
        title: "Nevada",
        category: "state",
        subtitle: "Abbreviation: NV"
    },
    {
        title: "New Hampshire",
        category: "state",
        subtitle: "Abbreviation: NH"
    },
    {
        title: "New Jersey",
        category: "state",
        subtitle: "Abbreviation: NJ"
    },
    {
        title: "New Mexico",
        category: "state",
        subtitle: "Abbreviation: NM"
    },
    {
        title: "New York",
        category: "state",
        subtitle: "Abbreviation: NY"
    },
    {
        title: "North Carolina",
        category: "state",
        subtitle: "Abbreviation: NC"
    },
    {
        title: "North Dakota",
        category: "state",
        subtitle: "Abbreviation: ND"
    },
    {
        title: "Ohio",
        category: "state",
        subtitle: "Abbreviation: OH"
    },
    {
        title: "Oklahoma",
        category: "state",
        subtitle: "Abbreviation: OK"
    },
    {
        title: "Oregon",
        category: "state",
        subtitle: "Abbreviation: OR"
    },
    {
        title: "Pennsylvania",
        category: "state",
        subtitle: "Abbreviation: PA"
    },
    {
        title: "Rhode Island",
        category: "state",
        subtitle: "Abbreviation: RI"
    },
    {
        title: "South Carolina",
        category: "state",
        subtitle: "Abbreviation: SC"
    },
    {
        title: "South Dakota",
        category: "state",
        subtitle: "Abbreviation: SD"
    },
    {
        title: "Tennessee",
        category: "state",
        subtitle: "Abbreviation: TN"
    },
    {
        title: "Texas",
        category: "state",
        subtitle: "Abbreviation: TX"
    },
    {
        title: "Utah",
        category: "state",
        subtitle: "Abbreviation: UT"
    },
    {
        title: "Vermont",
        category: "state",
        subtitle: "Abbreviation: VT"
    },
    {
        title: "Virginia",
        category: "state",
        subtitle: "Abbreviation: VA"
    },
    {
        title: "Washington",
        category: "state",
        subtitle: "Abbreviation: WA"
    },
    {
        title: "West Virginia",
        category: "state",
        subtitle: "Abbreviation: WV"
    },
    {
        title: "Wisconsin",
        category: "state",
        subtitle: "Abbreviation: WI"
    },
    {
        title: "Wyoming",
        category: "state",
        subtitle: "Abbreviation: WY"
    },
    {
        title: "American Samoa",
        category: "state",
        subtitle: "Abbreviation: AS"
    },
    {
        title: "District of Columbia",
        category: "state",
        subtitle: "Abbreviation: DC"
    },
    {
        title: "Federated States of Micronesia",
        category: "state",
        subtitle: "Abbreviation: FM"
    },
    {
        title: "Guam",
        category: "state",
        subtitle: "Abbreviation: GU"
    },
    {
        title: "Marshall Islands",
        category: "state",
        subtitle: "Abbreviation: MH"
    },
    {
        title: "Northern Mariana Islands",
        category: "state",
        subtitle: "Abbreviation: MP"
    },
    {
        title: "Palau",
        category: "state",
        subtitle: "Abbreviation: PW"
    },
    {
        title: "Puerto Rico",
        category: "state",
        subtitle: "Abbreviation: PR"
    },
    {
        title: "Virgin Islands",
        category: "state",
        subtitle: "Abbreviation: VI"
    },
    {
        title: "Montgomery",
        category: "city",
        subtitle: "Alabama"
    },
    {
        title: "Juneau",
        category: "city",
        subtitle: "Alaska"
    },
    {
        title: "Phoenix",
        category: "city",
        subtitle: "Arizona"
    },
    {
        title: "Little Rock",
        category: "city",
        subtitle: "Arkansas"
    },
    {
        title: "Sacramento",
        category: "city",
        subtitle: "California"
    },
    {
        title: "Denver",
        category: "city",
        subtitle: "Colorado"
    },
    {
        title: "Hartford",
        category: "city",
        subtitle: "Connecticut"
    },
    {
        title: "Dover",
        category: "city",
        subtitle: "Delaware"
    },
    {
        title: "Tallahassee",
        category: "city",
        subtitle: "Florida"
    },
    {
        title: "Atlanta",
        category: "city",
        subtitle: "Georgia"
    },
    {
        title: "Honolulu",
        category: "city",
        subtitle: "Hawaii"
    },
    {
        title: "Boise",
        category: "city",
        subtitle: "Idaho"
    },
    {
        title: "Springfield",
        category: "city",
        subtitle: "Illinois"
    },
    {
        title: "Indianapolis",
        category: "city",
        subtitle: "Indiana"
    },
    {
        title: "Des Moines",
        category: "city",
        subtitle: "Iowa"
    },
    {
        title: "Topeka",
        category: "city",
        subtitle: "Kansas"
    },
    {
        title: "Frankfort",
        category: "city",
        subtitle: "Kentucky"
    },
    {
        title: "Baton Rouge",
        category: "city",
        subtitle: "Louisiana"
    },
    {
        title: "Augusta",
        category: "city",
        subtitle: "Maine"
    },
    {
        title: "Annapolis",
        category: "city",
        subtitle: "Maryland"
    },
    {
        title: "Boston",
        category: "city",
        subtitle: "Massachusetts"
    },
    {
        title: "Lansing",
        category: "city",
        subtitle: "Michigan"
    },
    {
        title: "Saint Paul",
        category: "city",
        subtitle: "Minnesota"
    },
    {
        title: "Jackson",
        category: "city",
        subtitle: "Mississippi"
    },
    {
        title: "Jefferson City",
        category: "city",
        subtitle: "Missouri"
    },
    {
        title: "Helena",
        category: "city",
        subtitle: "Montana"
    },
    {
        title: "Lincoln",
        category: "city",
        subtitle: "Nebraska"
    },
    {
        title: "Carson City",
        category: "city",
        subtitle: "Nevada"
    },
    {
        title: "Concord",
        category: "city",
        subtitle: "New Hampshire"
    },
    {
        title: "Trenton",
        category: "city",
        subtitle: "New Jersey"
    },
    {
        title: "Santa Fe",
        category: "city",
        subtitle: "New "
    },
    {
        title: "Albany",
        category: "city",
        subtitle: "New York"
    },
    {
        title: "Raleigh",
        category: "city",
        subtitle: "North Carolina"
    },
    {
        title: "Bismarck",
        category: "city",
        subtitle: "North Dakota"
    },
    {
        title: "Columbus",
        category: "city",
        subtitle: "Ohio"
    },
    {
        title: "Oklahoma City",
        category: "city",
        subtitle: "Oklahom"
    },
    {
        title: "Salem",
        category: "city",
        subtitle: "Oregon"
    },
    {
        title: "Harrisburg",
        category: "city",
        subtitle: "Pennsylvania"
    },
    {
        title: "Providence",
        category: "city",
        subtitle: "Rhode Island"
    },
    {
        title: "Columbia",
        category: "city",
        subtitle: "South Carolina"
    },
    {
        title: "Pierre",
        category: "city",
        subtitle: "South Dakota"
    },
    {
        title: "Nashville",
        category: "city",
        subtitle: "Tennessee"
    },
    {
        title: "Austin",
        category: "city",
        subtitle: "Texas"
    },
    {
        title: "Salt Lake City",
        category: "city",
        subtitle: "Utah"
    },
    {
        title: "Montpelier",
        category: "city",
        subtitle: "Vermont"
    },
    {
        title: "Richmond",
        category: "city",
        subtitle: "Virginia"
    },
    {
        title: "Olympia",
        category: "city",
        subtitle: "Washington"
    },
    {
        title: "Charleston",
        category: "city",
        subtitle: "West Virginia"
    },
    {
        title: "Madison",
        category: "city",
        subtitle: "Wisconsin"
    },
    {
        title: "Cheyenne",
        category: "city",
        subtitle: "Wyoming"
    }
]

export default {
    title: "Autocomplete",
    component: Autocomplete,
};

const Template = (args) => {
    const [values, setValues] = useState([]);
    const [noResults, setNoResults] = useState(false);
    const [notice, setNotice] = useState(null);

    const handleTextInput = (e) => {
        if (e.target.value.length > 0) {
            const newValues = dummyValues.filter(state => state.title.toLowerCase().includes(e.target.value.toLowerCase()))
            setValues(newValues);
            setNoResults(newValues.length === 0);
        }
        else {
            setValues([])
        }
    };

    const clearAutocompleteSuggestions = () => {
        setValues([])
    };

    const onSelect = (e, valid) => {
       setNotice(`${valid.title} selected!`)
    }

    return (
        <>
            <Autocomplete
            values={values}
            handleTextInput={handleTextInput}
            clearAutocompleteSuggestions={clearAutocompleteSuggestions}
            noResults={noResults}
            onSelect={onSelect}
            {...args} />
            <div>{notice}</div>
        </>
        )
};

export const Primary = Template.bind({});

Primary.args = {
    placeholder: 'PLACEHOLDER',
    errorHeader: 'NO RESULTS FOUND',
    errorMessage: 'AN ERROR HAS OCCURRED',
    maxSuggestions: 1000,
    label: 'LABEL',
    characterLimit: 524288, // default for HTML input elements
    retainValue: false,
    minCharsToSearch: 3,
    icon: false,
    size: 'medium',
    id: '',
    minChar: false,
    isLoading: false,
    selectedItemsDisplayNames: false,
    type: null
};
